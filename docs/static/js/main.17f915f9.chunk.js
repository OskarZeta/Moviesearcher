(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(89)},69:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),i=a(32),n=a.n(i),o=a(7),c=a(14),l=a(35),p=a(8),m=a.n(p),h="ERROR_SET",u="ERROR_CLEAR";function d(e){return{type:h,errorText:e}}var v="LOADING_START",f="LOADING_STOP";function g(){return{type:v}}function _(){return{type:f}}var y="FETCH_MOVIES_DEFAULT",b="https://api.themoviedb.org/3/movie/popular?language=en-US&api_key=".concat("8282c68f5ed8f63c5bfae413614846d5","&page=");var E="FETCH_MOVIES_SORTED",k="https://api.themoviedb.org/3/discover/movie?",N="&api_key=".concat("8282c68f5ed8f63c5bfae413614846d5","&page=");var O="FETCH_MOVIES_SEARCHED",I="https://api.themoviedb.org/3/search/movie?query=",j="&api_key=".concat("8282c68f5ed8f63c5bfae413614846d5","&page=");var M="FETCH_MOVIE_CREDITS",S="https://api.themoviedb.org/3/movie/",q="/credits?api_key=".concat("8282c68f5ed8f63c5bfae413614846d5");function C(e){return function(t){return m.a.get(S+e+q).then(function(e){var a;t((a=e.data,{type:M,movieCredits:a}))}).catch(function(e){t(d("An error has occurred during the call to tmdb API. Check your address bar (you've probably entered wrong film ID) or try contacting tmdb's tech support."))})}}var w="FETCH_MOVIE_DETAILS",D="https://api.themoviedb.org/3/movie/",L="?api_key=".concat("8282c68f5ed8f63c5bfae413614846d5","&language=en-US");var x="FETCH_MOVIE_IMAGES",A="https://api.themoviedb.org/3/movie/",F="/images?api_key=".concat("8282c68f5ed8f63c5bfae413614846d5");function H(e){return function(t){return m.a.get(A+e+F).then(function(e){var a;t((a=e.data,{type:x,movieImages:a}))}).catch(function(e){t(d("An error has occurred during the call to tmdb API. Check your address bar (you've probably entered wrong film ID) or try contacting tmdb's tech support."))})}}var R="FETCH_MOVIE_SIMILARS",T="https://api.themoviedb.org/3/movie/",P="/similar?api_key=".concat("8282c68f5ed8f63c5bfae413614846d5","&language=en-US&page=1");var B="LOAD_SETTINGS",z="8282c68f5ed8f63c5bfae413614846d5";function U(e){return{type:B,settings:e}}var G="FETCH_GENRES",V="https://api.themoviedb.org/3/genre/movie/list?language=en-US&api_key=".concat("8282c68f5ed8f63c5bfae413614846d5");var J="ADD_FAVORITE",Q="REMOVE_FAVORITE",W="LOAD_FAVORIES";function Y(){return{type:W}}var $=Object(c.combineReducers)({movieList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case E:case O:return t.movieList;default:return e}},movieCredits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object.assign({},t.movieCredits);default:return e}},movieDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object.assign({},t.movieDetails);default:return e}},movieImages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object.assign({},t.movieImages);default:return e}},movieSimilars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object.assign({},t.movieSimilars);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.settings;default:return e}},genreList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return t.genreList;default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return e.concat(t.movie);case Q:return e.filter(function(e){return e.id!==t.id});case W:return JSON.parse(localStorage.getItem("favorites"))?JSON.parse(localStorage.getItem("favorites")):e;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isError:!1,errorText:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{isError:!0,errorText:t.errorText};case u:return{isError:!1,errorText:""};default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case v:return!0;case f:return!1;default:return e}}}),K=a(36);var X=a(2),Z=a(3),ee=a(5),te=a(4),ae=a(6),re=a(93),se=a(91),ie=a(94),ne=(a(69),function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"searchRequest",value:function(e){var t=e.target.value.trim();t.length>0?this.props.history.push("/search?q=".concat(t)):this.props.history.push("/")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Header__search-input-wrapper"},this.props.query&&s.a.createElement("input",{type:"search",autoFocus:!!this.props.query,defaultValue:this.props.query.q,onChange:function(t){e.searchRequest(t)},placeholder:"Search..."}),!this.props.query&&s.a.createElement("input",{type:"search",autoFocus:!!this.props.query,onChange:function(t){e.searchRequest(t)},placeholder:"Search..."}))}}]),t}(r.Component)),oe=Object(ie.a)(ne),ce=a(15),le=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"checkHandler",value:function(e){var t,a=this;if(this.props.query){var r=this.props.query.genres;if(t=Object.assign({},this.props.query),e.target.checked)if(r){var s=t.genres.split(",");t.genres=s.concat(this.props.id.toString()).join()}else t.genres=this.props.id.toString();else{var i=t.genres.split(",");t.genres=i.filter(function(e){return e!==a.props.id.toString()}).join(),0===Object.keys(t.genres).length&&delete t.genres}}else t={genres:this.props.id.toString()};0!==Object.keys(t).length?this.props.history.push("/sort_by?".concat(decodeURIComponent(ce.stringify(t)))):this.props.history.push("/")}},{key:"render",value:function(){var e=this;return s.a.createElement("label",{className:"Sidebar__genre-label"},s.a.createElement("div",{className:"Sidebar__genre-checkbox"},this.props.check&&s.a.createElement("input",{className:"Sidebar__genre-input",type:"checkbox",name:"tag",defaultChecked:!0,onChange:function(t){e.checkHandler(t)}}),!this.props.check&&s.a.createElement("input",{className:"Sidebar__genre-input",type:"checkbox",name:"tag",onChange:function(t){e.checkHandler(t)}}),s.a.createElement("span",{className:"Sidebar__genre-custom"})),s.a.createElement("span",{className:"Sidebar__genre-name"},this.props.name))}}]),t}(r.Component),pe=Object(ie.a)(le),me=a(15),he=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"clickHandler",value:function(e){var t;"sort"===this.props.name?(t=this.props.query?this.props.query.direction?Object.assign({},this.props.query):Object.assign({},this.props.query,{value:this.props.value},{direction:"desc"}):{direction:"desc"}).value=this.props.value:"direction"===this.props.name&&(this.props.query?(this.props.query.value||(t=Object.assign({},this.props.query,{value:"popularity"},{direction:this.props.direction})),t=Object.assign({},this.props.query)):t={value:"popularity"},t.direction=this.props.value),this.props.history.push("/sort_by?".concat(decodeURIComponent(me.stringify(t))))}},{key:"render",value:function(){var e=this;return s.a.createElement("label",{className:this.props.defaultChecked?"Sidebar__sort-label Sidebar__sort-label--active":"Sidebar__sort-label"},this.props.defaultChecked&&s.a.createElement("div",{className:"Sidebar__sort-radiobtn Sidebar__sort-radiobtn--active"},s.a.createElement("input",{className:"Sidebar__sort-input",type:"radio",name:this.props.name,value:this.props.value,onClick:function(t){e.clickHandler(t)},defaultChecked:!0}),s.a.createElement("span",{className:"Sidebar__sort-custom"})),!this.props.defaultChecked&&s.a.createElement("div",{className:"Sidebar__sort-radiobtn"},s.a.createElement("input",{className:"Sidebar__sort-input",type:"radio",name:this.props.name,value:this.props.value,onClick:function(t){e.clickHandler(t)}}),s.a.createElement("span",{className:"Sidebar__sort-custom"})),s.a.createElement("span",{className:"Sidebar__sort-name"},this.props.title))}}]),t}(r.Component),ue=Object(ie.a)(he),de=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"lds-ring"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))}}]),t}(r.Component),ve=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGenres()}},{key:"checkRadioBtn",value:function(e){if(this.props.query){var t=this.props.query;if(t.value&&t.value===e)return!0;if(t.direction&&t.direction===e)return!0;if(t.genres)if(-1!==t.genres.split(",").indexOf(e.toString()))return!0}}},{key:"makeGenreList",value:function(){var e=this;return this.props.genreList.map(function(t){return s.a.createElement(pe,{key:t.id,id:t.id,name:t.name,query:e.props.query,history:e.props.history,check:e.checkRadioBtn(t.id)})})}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.query?"Sidebar":"Sidebar hidden"},0===this.props.genreList.length&&s.a.createElement(de,null),0!==this.props.genreList.length&&s.a.createElement("div",{className:"Sidebar__wrapper"},s.a.createElement("div",{className:"Sidebar__genreList"},s.a.createElement("h2",{className:"Sidebar__header"},s.a.createElement("span",{className:"Sidebar__header-text"},"Select genres:")),s.a.createElement("div",{className:"Sidebar__genreList-wrapper"},this.makeGenreList())),s.a.createElement("div",{className:"Sidebar__sort-params"},s.a.createElement("div",{className:"Sidebar__sort"},s.a.createElement("h2",{className:"Sidebar__header"},s.a.createElement("span",{className:"Sidebar__header-text"},"Sort movies by:")),s.a.createElement("div",{className:"Sidebar__sort-wrapper"},s.a.createElement(ue,{name:"sort",title:"Popularity",value:"popularity",query:this.props.query,history:this.props.history,defaultChecked:!this.props.query||(!this.props.query.value||this.checkRadioBtn("popularity"))}),s.a.createElement(ue,{name:"sort",title:"Average votes",value:"vote_average",query:this.props.query,history:this.props.history,defaultChecked:this.checkRadioBtn("vote_average")}),s.a.createElement(ue,{name:"sort",title:"Number of votes",value:"vote_count",query:this.props.query,history:this.props.history,defaultChecked:this.checkRadioBtn("vote_count")}),s.a.createElement(ue,{name:"sort",title:"Original title",value:"original_title",query:this.props.query,history:this.props.history,defaultChecked:this.checkRadioBtn("original_title")}),s.a.createElement(ue,{name:"sort",title:"Release date",value:"release_date",query:this.props.query,history:this.props.history,defaultChecked:this.checkRadioBtn("release_date")}))),s.a.createElement("div",{className:"Sidebar__sort"},s.a.createElement("h2",{className:"Sidebar__header"},s.a.createElement("span",{className:"Sidebar__header-text"},"Sorting direction:")),s.a.createElement("div",{className:"Sidebar__sort-wrapper Sidebar__sort-wrapper--direction"},s.a.createElement(ue,{name:"direction",title:"Descending",value:"desc",query:this.props.query,history:this.props.history,defaultChecked:!this.props.query||(!this.props.query.value||this.checkRadioBtn("desc"))}),s.a.createElement(ue,{name:"direction",title:"Ascending",value:"asc",query:this.props.query,history:this.props.history,defaultChecked:this.checkRadioBtn("asc")}))))))}}]),t}(r.Component),fe={fetchGenres:function(){return function(e){return m.a.get(V).then(function(t){var a;return e((a=t.data.genres,{type:G,genreList:a})),t.data.genres.map(function(e){return Object.assign(e,{selected:!1})})}).catch(function(t){console.log(t),e(d("Error while retrieving list of genres from server."))})}}},ge=Object(o.b)(function(e){return{genreList:e.genreList,error:e.error}},fe)(ve),_e=a(90),ye=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"clickOptions",value:function(e){document.querySelector(".Sidebar").classList.toggle("hidden"),document.querySelector(".Header__options").classList.toggle("Header__btn--active")}},{key:"render",value:function(){var e=this;return s.a.createElement("header",{className:"Header"},s.a.createElement("div",{className:"container container--header"},s.a.createElement("h1",null,s.a.createElement(_e.a,{className:"Header__home",to:"/"},"Moviesearcher App")),s.a.createElement("ul",{className:"Header__additional"},s.a.createElement("li",{className:"Header__options Header__btn ".concat(this.props.query?this.props.query.q?"":"Header__btn--active":""),onClick:function(t){e.clickOptions(t)}},s.a.createElement("span",null,"Options")),s.a.createElement("li",{className:"Header__sidebar"},s.a.createElement(ge,{query:this.props.query?this.props.query.q?void 0:this.props.query:void 0})),s.a.createElement("li",{className:"Header__favorites Header__btn"},s.a.createElement(_e.a,{to:"/favorites"},s.a.createElement("span",null,"Favorites"))),s.a.createElement("li",{className:"Header__search"},s.a.createElement(oe,{query:this.props.query&&this.props.query.q?this.props.query:void 0})))))}}]),t}(r.Component),be=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"Header"},s.a.createElement("div",{className:"container container--header"},s.a.createElement("h1",null,s.a.createElement(_e.a,{className:"Header__home",to:"/"},"Moviesearcher App")),s.a.createElement("ul",{className:"Header__additional"},s.a.createElement("li",{className:"Header__favorites Header__favorites--moviePage Header__btn"},s.a.createElement(_e.a,{to:"/favorites"},s.a.createElement("span",null,"Favorites"))))))}}]),t}(r.Component),Ee=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"Header"},s.a.createElement("div",{className:"container container--header"},s.a.createElement("h1",null,s.a.createElement(_e.a,{className:"Header__home",to:"/"},"Moviesearcher App")),s.a.createElement("ul",{className:"Header__additional"},s.a.createElement("li",{className:"Header__favorites Header__favorites--movieDetails Header__btn"},s.a.createElement(_e.a,{to:"/favorites"},s.a.createElement("span",null,"Favorites"))),s.a.createElement("li",{className:"Header__back Header__btn"},s.a.createElement(_e.a,{to:"/filmId/".concat(this.props.id)},s.a.createElement("span",null,"To movie"))))))}}]),t}(r.Component),ke=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"Header"},s.a.createElement("div",{className:"container container--header"},s.a.createElement("h1",null,s.a.createElement(_e.a,{className:"Header__home",to:"/"},"Moviesearcher App")),s.a.createElement("ul",{className:"Header__additional"},s.a.createElement("li",{className:"Header__favorites Header__btn Header__favorites-nonbtn Header__btn--active"},s.a.createElement("span",null,"Favorites")))))}}]),t}(r.Component),Ne=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"clickHandler",value:function(e){this.props.isFav?this.props.removeFavorite(this.props.id):this.props.addFavorite({id:this.props.id,title:this.props.name,poster_path:this.props.poster})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.isFav?this.props.moviePage?"FaveBtn FaveBtn--moviePage FaveBtn--active btn":"FaveBtn FaveBtn--active btn":this.props.moviePage?"FaveBtn FaveBtn--moviePage btn btn-success":"FaveBtn btn btn-success",onClick:function(t){e.clickHandler(t)}},s.a.createElement("div",{className:"FaveBtn__content"},s.a.createElement("svg",{className:"FaveBtn__img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s.a.createElement("path",{className:"FaveBtn__star ".concat(this.props.isFav?"FaveBtn__star--active":""),d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})),s.a.createElement("span",{className:"FaveBtn__text"},this.props.isFav?"Remove from faves":"Add to faves")))}}]),t}(r.Component),Oe={addFavorite:function(e){return{type:J,movie:e}},removeFavorite:function(e){return{type:Q,id:e}}},Ie=Object(o.b)(function(e){return{favorites:e.favorites}},Oe)(Ne),je=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props.settings.secure_base_url+this.props.settings.poster_sizes[1]+this.props.poster,t=this.props.settings.secure_base_url+this.props.settings.poster_sizes[2]+this.props.poster,a=this.props.settings.secure_base_url+this.props.settings.poster_sizes[3]+this.props.poster;return s.a.createElement("div",{className:"Movie"},s.a.createElement("div",{className:"Movie__link"},s.a.createElement(_e.a,{to:"/filmId/".concat(this.props.id)},s.a.createElement("h2",{className:"Movie__header"},this.props.name),null!==this.props.poster&&s.a.createElement("picture",null,s.a.createElement("source",{srcSet:a,media:"(min-width: 1300px)"}),s.a.createElement("source",{srcSet:t,media:"(min-width: 800px)"}),s.a.createElement("img",{src:e,alt:"movie-poster"})),null===this.props.poster&&s.a.createElement("div",{className:"Movie__placeholder"},s.a.createElement("div",{className:"Movie__placeholder-mobile"}),s.a.createElement("div",{className:"Movie__placeholder-tablet"}),s.a.createElement("div",{className:"Movie__placeholder-desktop"}))),s.a.createElement(Ie,{favorites:this.props.favorites,id:this.props.id,name:this.props.name,poster:this.props.poster,isFav:this.props.isFav})))}}]),t}(r.Component),Me=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"makePageAndText",value:function(){var e="",t=this.props.page;return"prev"===this.props.direction?(e="Back",1!==t&&(t-=1)):(e="Next",t+=1),{text:e,page:t}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(_e.a,{className:"Pagination__"+this.props.direction,to:"".concat(this.props.query?this.props.history.location.pathname+"?"+this.props.query+"/":"/").concat(this.makePageAndText().page)},s.a.createElement("span",null,this.makePageAndText().text)))}}]),t}(r.Component),Se=Object(ie.a)(Me),qe=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"makeList",value:function(){var e=this;if(0!==this.props.movieList.length)return this.props.movieList.map(function(t){return s.a.createElement(je,{key:t.id,id:t.id,name:t.title,poster:t.poster_path,settings:e.props.settings.images,isFav:e.props.favorites.length>0&&!!e.props.favorites.filter(function(e){return e.id===t.id}).length>0})})}},{key:"componentDidMount",value:function(){this.props.fetchMoviesDefault(Number.isNaN(this.props.page)?1:this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.page!==e.page&&this.props.fetchMoviesDefault(Number.isNaN(this.props.page)?1:this.props.page),this.props.favorites!==e.favorites&&localStorage.setItem("favorites",JSON.stringify(this.props.favorites))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container container--movielist"},this.props.loading&&s.a.createElement("div",{className:"container--loading"},s.a.createElement(de,null)),!this.props.loading&&0!==Object.keys(this.props.settings).length&&this.makeList(),0!==this.props.movieList.length&&s.a.createElement("div",{className:"Pagination"},s.a.createElement(Se,{direction:"prev",page:this.props.page}),s.a.createElement(Se,{direction:"next",page:this.props.page})))}}]),t}(r.Component),Ce={fetchMoviesDefault:function(e){return function(t){return t(g()),m.a.get(b+e).then(function(e){var a;t((a=e.data,{type:y,movieList:a?a.results:[]})),t(_())}).catch(function(e){console.log(e),t(d("Error while retrieving list of popular movies from server."))})}}},we=Object(o.b)(function(e){return{settings:e.settings,movieList:e.movieList,favorites:e.favorites,loading:e.loading}},Ce)(qe),De=a(15),Le=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"makeList",value:function(){var e=this;return 0!==this.props.movieList.length?this.props.movieList.map(function(t){return s.a.createElement(je,{key:t.id,id:t.id,name:t.title,poster:t.poster_path,settings:e.props.settings.images,isFav:e.props.favorites.length>0&&!!e.props.favorites.filter(function(e){return e.id===t.id}).length>0})}):s.a.createElement("div",{className:"container container--loading"},s.a.createElement("span",null,"No movies found!"))}},{key:"componentDidMount",value:function(){this.props.fetchMoviesSorted(this.props.page,this.props.query.value,this.props.query.direction,this.props.query.genres)}},{key:"componentDidUpdate",value:function(e){this.props.page===e.page&&this.props.query===e.query||this.props.fetchMoviesSorted(this.props.page,this.props.query.value,this.props.query.direction,this.props.query.genres),this.props.favorites!==e.favorites&&localStorage.setItem("favorites",JSON.stringify(this.props.favorites))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container container--movielist"},this.props.loading&&s.a.createElement("div",{className:"container--loading"},s.a.createElement(de,null)),!this.props.loading&&Object.keys(this.props.settings).length&&this.makeList(),0!==this.props.movieList.length&&s.a.createElement("div",{className:"Pagination"},s.a.createElement(Se,{direction:"prev",query:decodeURIComponent(De.stringify(this.props.query)),page:this.props.page}),s.a.createElement(Se,{direction:"next",query:decodeURIComponent(De.stringify(this.props.query)),page:this.props.page})))}}]),t}(r.Component),xe={fetchMoviesSorted:function(e,t,a,r){return function(s){s(g());var i=k;return t&&a&&(i=i+"sort_by="+t+"."+a),r&&(i+=t&&a?"&with_genres=".concat(r.toString()):"with_genres=".concat(r.toString())),i+=N,m.a.get(i+e).then(function(e){var t;s((t=e.data,{type:E,movieList:t?t.results:[]})),s(_())}).catch(function(e){s(d(e))})}}},Ae=Object(o.b)(function(e){return{settings:e.settings,movieList:e.movieList,favorites:e.favorites,loading:e.loading}},xe)(Le),Fe=a(15),He=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"makeList",value:function(){var e=this;return 0!==this.props.movieList.length?this.props.movieList.map(function(t){return s.a.createElement(je,{key:t.id,id:t.id,name:t.title,poster:t.poster_path,settings:e.props.settings.images,isFav:e.props.favorites.length>0&&!!e.props.favorites.filter(function(e){return e.id===t.id}).length>0})}):s.a.createElement("div",{className:"container container--loading"},s.a.createElement("span",null,"No movies found!"))}},{key:"componentDidMount",value:function(){this.props.fetchMoviesSearched(this.props.page,this.props.query.q)}},{key:"componentDidUpdate",value:function(e){this.props.page===e.page&&this.props.query===e.query||this.props.fetchMoviesSearched(this.props.page,this.props.query.q),this.props.favorites!==e.favorites&&localStorage.setItem("favorites",JSON.stringify(this.props.favorites))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container container--movielist"},this.props.loading&&s.a.createElement("div",{className:"container--loading"},s.a.createElement(de,null)),!this.props.loading&&Object.keys(this.props.settings).length&&this.makeList(),0!==this.props.movieList.length&&s.a.createElement("div",{className:"Pagination"},s.a.createElement(Se,{direction:"prev",query:decodeURIComponent(Fe.stringify(this.props.query)),page:this.props.page}),s.a.createElement(Se,{direction:"next",query:decodeURIComponent(Fe.stringify(this.props.query)),page:this.props.page})))}}]),t}(r.Component),Re={fetchMoviesSearched:function(e,t){return function(a){return a(g()),m.a.get(I+t+j+e).then(function(e){var t;a((t=e.data,{type:O,movieList:t?t.results:[]})),a(_())}).catch(function(e){a(d(e))})}}},Te=Object(o.b)(function(e){return{settings:e.settings,movieList:e.movieList,favorites:e.favorites,loading:e.loading}},Re)(He),Pe=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"makeList",value:function(){var e=this;return 0!==this.props.favorites.length?this.props.favorites.map(function(t){return s.a.createElement(je,{key:t.id,id:t.id,name:t.title,poster:t.poster_path,settings:e.props.settings.images,isFav:e.props.favorites.length>0&&!!e.props.favorites.filter(function(e){return e.id===t.id}).length>0})}):s.a.createElement("span",{className:"App__faves-empty"},"You don't have any favorites yet!")}},{key:"componentDidMount",value:function(){0===this.props.favorites.length&&this.props.loadFavorites()}},{key:"componentDidUpdate",value:function(e){this.props.favorites!==e.favorites&&localStorage.setItem("favorites",JSON.stringify(this.props.favorites))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container container--movielist"},0!==Object.keys(this.props.settings).length&&this.makeList())}}]),t}(r.Component),Be={loadFavorites:Y},ze=Object(o.b)(function(e){return{settings:e.settings,favorites:e.favorites}},Be)(Pe),Ue=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props.settings.secure_base_url+this.props.settings.poster_sizes[1]+this.props.poster,t=this.props.settings.secure_base_url+this.props.settings.poster_sizes[2]+this.props.poster;return s.a.createElement("div",{className:"Movie Movie--preview"},s.a.createElement("div",{className:"Movie__link"},s.a.createElement(_e.a,{to:"/filmId/".concat(this.props.id)},s.a.createElement("h2",{className:"Movie__header"},this.props.name),null!==this.props.poster&&s.a.createElement("picture",null,s.a.createElement("source",{srcSet:t,media:"(min-width: 800px)"}),s.a.createElement("img",{src:e,alt:"movie-poster"})),null===this.props.poster&&s.a.createElement("div",{className:"Movie__placeholder"},s.a.createElement("div",{className:"Movie__placeholder-mobile"}),s.a.createElement("div",{className:"Movie__placeholder-tablet Movie__placeholder-tablet--desktop"}))),s.a.createElement(Ie,{favorites:this.props.favorites,id:this.props.id,name:this.props.name,poster:this.props.poster,isFav:this.props.isFav})))}}]),t}(r.Component),Ge=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"makeList",value:function(){var e=this;if(this.props.movieSimilars.results)return this.props.movieSimilars.results.map(function(t,a){if(a<10)return s.a.createElement(Ue,{key:t.id,id:t.id,name:t.title,poster:t.poster_path,settings:e.props.settings.images,isFav:e.props.favorites.length>0&&!!e.props.favorites.filter(function(e){return e.id===t.id}).length>0})})}},{key:"componentDidUpdate",value:function(e){this.props.favorites!==e.favorites&&localStorage.setItem("favorites",JSON.stringify(this.props.favorites))}},{key:"render",value:function(){return s.a.createElement("div",{className:"MovieInfo__similar-wrapper"},this.makeList())}}]),t}(r.Component),Ve=Object(o.b)(function(e){return{settings:e.settings,movieSimilars:e.movieSimilars,favorites:e.favorites}})(Ge),Je=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"closeClick",value:function(){document.querySelector(".image-preload").classList.remove("hidden"),"movie"===this.props.from?this.props.history.push("/filmId/".concat(this.props.movieImages.id)):"gallery"===this.props.from&&this.props.history.push("/filmId/".concat(this.props.movieImages.id,"/images"))}},{key:"sliderClick",value:function(e){var t=this.props.imageIndex;"movie"===this.props.from?"prev"===e?this.props.imageIndex>0&&(document.querySelector(".image-preload").classList.remove("hidden"),this.props.history.push("/filmId/".concat(this.props.movieImages.id,"?image=").concat(t))):"next"===e&&this.props.imageIndex<this.props.movieImages.backdrops.length-1&&(document.querySelector(".image-preload").classList.remove("hidden"),this.props.history.push("/filmId/".concat(this.props.movieImages.id,"?image=").concat(t+2))):"gallery"===this.props.from&&("prev"===e?this.props.imageIndex>0&&(document.querySelector(".image-preload").classList.remove("hidden"),this.props.history.push("/filmId/".concat(this.props.movieImages.id,"/images?image=").concat(t))):"next"===e&&this.props.imageIndex<this.props.movieImages.backdrops.length-1&&(document.querySelector(".image-preload").classList.remove("hidden"),this.props.history.push("/filmId/".concat(this.props.movieImages.id,"/images?image=").concat(t+2))))}},{key:"loadImage",value:function(e){e.target.parentNode.parentNode.querySelector(".image-preload").classList.add("hidden")}},{key:"componentDidMount",value:function(){document.querySelector(".image-preload").classList.remove("hidden")}},{key:"render",value:function(){var e,t,a,r=this;return Object.keys(this.props.movieImages).length&&Object.keys(this.props.settings).length&&(this.props.imageIndex>=this.props.movieImages.backdrops.length||isNaN(this.props.imageIndex)?this.props.errorSet("Wrong image index detected"):(e=this.props.settings.images.secure_base_url+this.props.settings.images.backdrop_sizes[0]+this.props.movieImages.backdrops[this.props.imageIndex].file_path,t=this.props.settings.images.secure_base_url+this.props.settings.images.backdrop_sizes[1]+this.props.movieImages.backdrops[this.props.imageIndex].file_path,a=this.props.settings.images.secure_base_url+this.props.settings.images.backdrop_sizes[2]+this.props.movieImages.backdrops[this.props.imageIndex].file_path)),s.a.createElement("div",{className:"ImageShow"},s.a.createElement("div",{className:"container container--imageshow"},s.a.createElement("div",{className:"ImageShow__image-wrapper"},s.a.createElement("picture",null,s.a.createElement("source",{srcSet:a,media:"(min-width: 1300px)"}),s.a.createElement("source",{srcSet:t,media:"(min-width: 800px)"}),s.a.createElement("img",{onLoad:function(e){r.loadImage(e)},src:e,alt:"movie-poster"})),s.a.createElement("div",{className:"image-preload image-preload--movie-backdrop"},s.a.createElement(de,null))),s.a.createElement("div",{className:"ImageShow__interface"},s.a.createElement("button",{className:"ImageShow__prev",onClick:function(){r.sliderClick("prev")}}),s.a.createElement("button",{className:"ImageShow__close",onClick:function(){r.closeClick()}}),s.a.createElement("button",{className:"ImageShow__next",onClick:function(){r.sliderClick("next")}}))))}}]),t}(r.Component),Qe={errorSet:d},We=Object(ie.a)(Object(o.b)(function(e){return{movieImages:e.movieImages,settings:e.settings}},Qe)(Je)),Ye=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"loadImage",value:function(e){e.target.parentNode.parentNode.querySelector(".image-preload").classList.add("hidden")}},{key:"loadImages",value:function(){var e=this;if(this.props.movieImages){var t=this.props.movieImages.backdrops;return 0===t.length?(document.querySelector(".MovieInfo__show-link--gallery")&&document.querySelector(".MovieInfo__show-link--gallery").classList.add("hidden"),s.a.createElement("div",{className:"MovieInfo__info",style:{border:"none",fontStyle:"italic",margin:0}},"Not available")):(document.querySelector(".MovieInfo__show-link--gallery")&&document.querySelector(".MovieInfo__show-link--gallery").classList.remove("hidden"),t.map(function(t,a){var r=e.props.settings.images.secure_base_url+e.props.settings.images.poster_sizes[1]+t.file_path,i=e.props.settings.images.secure_base_url+e.props.settings.images.poster_sizes[2]+t.file_path,n=e.props.settings.images.secure_base_url+e.props.settings.images.poster_sizes[3]+t.file_path;if(a<4)return s.a.createElement(_e.a,{className:"MovieInfo__image-preview",key:a,to:"/filmId/".concat(e.props.movieDetails.id,"?image=").concat(a+1)},s.a.createElement("picture",null,s.a.createElement("source",{srcSet:n,media:"(min-width: 1300px)"}),s.a.createElement("source",{srcSet:i,media:"(min-width: 800px)"}),s.a.createElement("img",{className:"MovieInfo__img",onLoad:function(t){e.loadImage(t)},src:r,alt:"movie-poster"})),s.a.createElement("div",{className:"image-preload image-preload--gallery-preview"},s.a.createElement(de,null)))}))}}},{key:"loadCast",value:function(){var e=this.props.movieCredits.cast;return 0===e.length?(document.querySelector(".MovieInfo__show-link--cast")&&document.querySelector(".MovieInfo__show-link--cast").classList.add("hidden"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--na"},"Not available")):(document.querySelector(".MovieInfo__show-link--cast")&&document.querySelector(".MovieInfo__show-link--cast").classList.remove("hidden"),e.map(function(e,t){if(t<8)return s.a.createElement("div",{className:"MovieInfo__person",key:e.id},s.a.createElement("span",{className:"MovieInfo__person-name"},e.name),s.a.createElement("span",{className:"MovieInfo__person-character"},e.character))}))}},{key:"loadCrew",value:function(){var e=this.props.movieCredits.crew;return 0===e.length?(document.querySelector(".MovieInfo__show-link--crew")&&document.querySelector(".MovieInfo__show-link--crew").classList.add("hidden"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--na"},"Not available")):(document.querySelector(".MovieInfo__show-link--crew")&&document.querySelector(".MovieInfo__show-link--crew").classList.remove("hidden"),e.filter(function(e){return"Director"===e.job}).map(function(e){return s.a.createElement("div",{className:"MovieInfo__person",key:e.id},s.a.createElement("span",{className:"MovieInfo__person-name"},e.name),s.a.createElement("span",{className:"MovieInfo__person-character"},e.job))}))}},{key:"componentDidMount",value:function(){this.props.fetchMovieDetails(this.props.id),this.props.fetchMovieSimilars(this.props.id,1),this.props.fetchMovieImages(this.props.id),this.props.fetchMovieCredits(this.props.id)}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.props.isError||(this.props.fetchMovieDetails(this.props.id),this.props.fetchMovieSimilars(this.props.id,1),this.props.fetchMovieImages(this.props.id),this.props.fetchMovieCredits(this.props.id)))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App__content"},s.a.createElement("div",{className:"container container--movieinfo"},this.props.loading&&s.a.createElement(de,null),!this.props.loading&&0!==Object.keys(this.props.movieDetails).length&&0!==Object.keys(this.props.settings).length&&s.a.createElement("div",{className:"MovieInfo__wrapper"},0!==Object.keys(this.props.query).length&&s.a.createElement(We,{imageIndex:this.props.query.image-1,from:"movie"}),s.a.createElement("h1",{className:"MovieInfo__title"},s.a.createElement("span",null,this.props.movieDetails.title)),s.a.createElement("div",{className:"MovieInfo__main"},s.a.createElement("div",{className:"MovieInfo__left-column"},s.a.createElement("div",{className:"MovieInfo__votebox",style:{background:this.props.movieDetails.vote_average>=7?"linear-gradient(-45deg, #b4e391 0%, #61c419 50%,#b4e391 100%)":this.props.movieDetails.vote_average<7&&this.props.movieDetails.vote_average>3?"linear-gradient(-45deg, #fefcea 0%,#f1da36 50%,#fefcea 100%)":"linear-gradient(135deg, rgba(243,197,189,1) 0%,rgba(232,108,87,1) 0%,rgba(255,170,170,1) 0%,rgba(255,0,0,1) 50%,rgba(255,170,170,1) 100%)"}},this.props.movieDetails.vote_average.toString().split(".").length>1&&s.a.createElement("div",null,s.a.createElement("span",{className:"MovieInfo__votebox-1"},this.props.movieDetails.vote_average.toString().split(".")[0]+"."),s.a.createElement("span",{className:"MovieInfo__votebox-2"},this.props.movieDetails.vote_average.toString().split(".")[1])),this.props.movieDetails.vote_average.toString().split(".").length<=1&&s.a.createElement("div",null,s.a.createElement("span",{className:"MovieInfo__votebox-1"},this.props.movieDetails.vote_average.toString().split(".")[0]))),null!==this.props.movieDetails.poster_path&&s.a.createElement("div",{className:"MovieInfo__poster-wrapper"},s.a.createElement("picture",null,s.a.createElement("source",{srcSet:this.props.settings.images.secure_base_url+this.props.settings.images.poster_sizes[4]+this.props.movieDetails.poster_path,media:"(min-width: 1300px)"}),s.a.createElement("source",{srcSet:this.props.settings.images.secure_base_url+this.props.settings.images.poster_sizes[3]+this.props.movieDetails.poster_path,media:"(min-width: 800px)"}),s.a.createElement("img",{className:"MovieInfo__poster",onLoad:function(t){e.loadImage(t)},src:this.props.settings.images.secure_base_url+this.props.settings.images.poster_sizes[3]+this.props.movieDetails.poster_path,alt:"movie-poster"})),s.a.createElement("div",{className:"image-preload image-preload--movie-poster"},s.a.createElement(de,null))),null===this.props.movieDetails.poster_path&&s.a.createElement("div",{className:"MovieInfo__poster-wrapper"},s.a.createElement("div",{className:"MovieInfo__placeholder"},s.a.createElement("div",{className:"MovieInfo__placeholder-mobile"}),s.a.createElement("div",{className:"MovieInfo__placeholder-tablet"}),s.a.createElement("div",{className:"MovieInfo__placeholder-desktop"}))),s.a.createElement(Ie,{favorites:this.props.favorites,id:this.props.movieDetails.id,name:this.props.movieDetails.title,poster:this.props.movieDetails.poster_path,isFav:this.props.favorites.length>0&&!!this.props.favorites.filter(function(t){return t.id===e.props.movieDetails.id}).length>0,moviePage:!0})),s.a.createElement("div",{className:"MovieInfo__right-column"},s.a.createElement("h2",{className:"MovieInfo__section-header"},"image gallery"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--gallery"},s.a.createElement("div",{className:"MovieInfo__show-link MovieInfo__show-link--gallery"},s.a.createElement(_e.a,{to:"/filmId/".concat(this.props.movieDetails.id,"/images")},s.a.createElement("span",null,"show full gallery"))),0===Object.keys(this.props.movieImages).length&&s.a.createElement(de,null),0!==Object.keys(this.props.movieImages).length&&s.a.createElement("div",{className:"MovieInfo__images-wrapper"},this.loadImages())),s.a.createElement("h2",{className:"MovieInfo__section-header"},"original title"),s.a.createElement("p",{className:"MovieInfo__info"},this.props.movieDetails.original_title+" ("+this.props.movieDetails.original_language+")"),s.a.createElement("h2",{className:"MovieInfo__section-header"},"tagline"),this.props.movieDetails.tagline.length>0&&s.a.createElement("p",{className:"MovieInfo__info"},'"'+this.props.movieDetails.tagline+'"'),0===this.props.movieDetails.tagline.length&&s.a.createElement("p",{className:"MovieInfo__info",style:{fontStyle:"italic"}},"Not available"),s.a.createElement("h2",{className:"MovieInfo__section-header"},"description"),this.props.movieDetails.overview.length>0&&s.a.createElement("p",{className:"MovieInfo__info"},this.props.movieDetails.overview),0===this.props.movieDetails.overview.length&&s.a.createElement("p",{className:"MovieInfo__info MovieInfo__info--na"},"Not available"),s.a.createElement("h2",{className:"MovieInfo__section-header"},"release date"),s.a.createElement("p",{className:"MovieInfo__info"},this.props.movieDetails.release_date),s.a.createElement("h2",{className:"MovieInfo__section-header"},"genres"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--row"},this.props.movieDetails.genres.length>0&&this.props.movieDetails.genres.map(function(t,a){return s.a.createElement(_e.a,{key:a,className:"MovieInfo__genre-href",to:"/sort_by?genres=".concat(t.id),onClick:function(){e.props.addGenres(t.id)}},t.name)}),0===this.props.movieDetails.genres.length&&s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--na"},"Not available")),s.a.createElement("h2",{className:"MovieInfo__section-header"},"budget"),s.a.createElement("p",{className:"MovieInfo__info"},this.props.movieDetails.budget+"$"),s.a.createElement("h2",{className:"MovieInfo__section-header"},"credits"),s.a.createElement("h2",{className:"MovieInfo__section-header"},"crew"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--credits"},s.a.createElement("div",{className:"MovieInfo__show-link MovieInfo__show-link--crew"},s.a.createElement(_e.a,{to:"/filmId/".concat(this.props.id,"/crew")},s.a.createElement("span",null,"show full crew"))),0===Object.keys(this.props.movieCredits).length&&s.a.createElement(de,null),0!==Object.keys(this.props.movieCredits).length&&this.loadCrew()),s.a.createElement("h2",{className:"MovieInfo__section-header"},"cast"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--credits"},s.a.createElement("div",{className:"MovieInfo__show-link MovieInfo__show-link--cast"},s.a.createElement(_e.a,{to:"/filmId/".concat(this.props.id,"/cast")},s.a.createElement("span",null,"show full cast"))),0===Object.keys(this.props.movieCredits).length&&s.a.createElement(de,null),0!==Object.keys(this.props.movieCredits).length&&this.loadCast()),s.a.createElement("div",{className:"MovieInfo__votes"},s.a.createElement("div",{className:"MovieInfo__vote-wrapper"},s.a.createElement("h2",{className:"MovieInfo__section-header"},"average vote:"),s.a.createElement("span",{className:"MovieInfo__number"},this.props.movieDetails.vote_average)),s.a.createElement("div",{className:"MovieInfo__vote-wrapper"},s.a.createElement("h2",{className:"MovieInfo__section-header"},"number of votes:"),s.a.createElement("span",{className:"MovieInfo__number"},this.props.movieDetails.vote_count)),s.a.createElement("div",{className:"MovieInfo__vote-wrapper"},s.a.createElement("h2",{className:"MovieInfo__section-header"},"popularity:"),s.a.createElement("span",{className:"MovieInfo__number"},this.props.movieDetails.popularity))))),s.a.createElement("h2",{className:"MovieInfo__section-header MovieInfo__section-header--similars"},"similar movies"),s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--similars"},0===Object.keys(this.props.movieSimilars).length&&s.a.createElement(de,null),0!==Object.keys(this.props.movieSimilars).length&&0!==this.props.movieSimilars.total_results&&s.a.createElement(Ve,{usePreview:!0,favorites:this.props.favorites}),0!==Object.keys(this.props.movieSimilars).length&&0===this.props.movieSimilars.total_results&&s.a.createElement("div",{className:"MovieInfo__info MovieInfo__info--na MovieInfo__info--na-similars"},"Not available")))))}}]),t}(r.Component),$e={fetchMovieDetails:function(e){return function(t){return t(g()),m.a.get(D+e+L).then(function(e){var a;t((a=e.data,{type:w,movieDetails:a})),t(_())}).catch(function(e){t(d("An error has occurred during the call to tmdb API. Check your address bar (you've probably entered wrong film ID) or try contacting tmdb's tech support."))})}},fetchMovieSimilars:function(e){return function(t){return m.a.get(T+e+P).then(function(e){var a;t((a=e.data,{type:R,movieSimilars:a}))}).catch(function(e){t(d("An error has occurred during the call to tmdb API. Check your address bar (you've probably entered wrong film ID) or try contacting tmdb's tech support."))})}},fetchMovieImages:H,fetchMovieCredits:C},Ke=Object(o.b)(function(e){return{movieDetails:e.movieDetails,movieSimilars:e.movieSimilars,movieImages:e.movieImages,movieCredits:e.movieCredits,settings:e.settings,loading:e.loading,favorites:e.favorites}},$e)(Ye),Xe=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"loadImages",value:function(){var e=this;return this.props.movieImages.backdrops.map(function(t,a){var r=e.props.settings.images.secure_base_url+e.props.settings.images.poster_sizes[1]+t.file_path,i=e.props.settings.images.secure_base_url+e.props.settings.images.poster_sizes[2]+t.file_path,n=e.props.settings.images.secure_base_url+e.props.settings.images.poster_sizes[3]+t.file_path;return s.a.createElement(_e.a,{className:"Gallery__image",key:a,to:"/filmId/".concat(e.props.id,"/images?image=").concat(a+1)},s.a.createElement("picture",null,s.a.createElement("source",{srcSet:n,media:"(min-width: 1300px)"}),s.a.createElement("source",{srcSet:i,media:"(min-width: 800px)"}),s.a.createElement("img",{src:r,alt:"movie-poster"})))})}},{key:"componentDidMount",value:function(){0===Object.keys(this.props.movieImages).length&&this.props.fetchMovieImages(this.props.id)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Gallery"},0!==Object.keys(this.props.query).length&&s.a.createElement(We,{imageIndex:this.props.query.image-1,from:"gallery"}),s.a.createElement("div",{className:"container container--gallery"},!Object.keys(this.props.movieImages).length&&s.a.createElement(de,null),Object.keys(this.props.movieImages).length&&Object.keys(this.props.settings).length&&this.loadImages()))}}]),t}(r.Component),Ze={fetchMovieImages:H},et=Object(o.b)(function(e){return{movieImages:e.movieImages,settings:e.settings}},Ze)(Xe),tt=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"loadCast",value:function(){return this.props.movieCredits.cast.map(function(e,t){return s.a.createElement("li",{className:"MovieInfo__person",key:t},s.a.createElement("span",{className:"MovieInfo__person-name"},e.name),s.a.createElement("span",{className:"MovieInfo__person-character"},e.character))})}},{key:"componentDidMount",value:function(){0===Object.keys(this.props.movieCredits).length&&this.props.fetchMovieCredits(this.props.id)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container container--movieinfo"},s.a.createElement("ul",{className:"App__credits"},0===Object.keys(this.props.movieCredits).length&&s.a.createElement(de,null),0!==Object.keys(this.props.movieCredits).length&&this.loadCast()))}}]),t}(r.Component),at={fetchMovieCredits:C},rt=Object(o.b)(function(e){return{movieCredits:e.movieCredits}},at)(tt),st=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"loadCrew",value:function(){return this.props.movieCredits.crew.map(function(e,t){return s.a.createElement("li",{className:"MovieInfo__person",key:t},s.a.createElement("span",{className:"MovieInfo__person-name"},e.name),s.a.createElement("span",{className:"MovieInfo__person-character"},e.job))})}},{key:"componentDidMount",value:function(){0===Object.keys(this.props.movieCredits).length&&this.props.fetchMovieCredits(this.props.id)}},{key:"render",value:function(){return s.a.createElement("div",{className:"container container--movieinfo"},s.a.createElement("ul",{className:"App__credits"},0===Object.keys(this.props.movieCredits).length&&s.a.createElement(de,null),0!==Object.keys(this.props.movieCredits).length&&this.loadCrew()))}}]),t}(r.Component),it={fetchMovieCredits:C},nt=Object(o.b)(function(e){return{movieCredits:e.movieCredits}},it)(st),ot=a(15),ct=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"getSettings",value:function(){document.cookie?this.props.fetchSettings(JSON.parse(document.cookie.split(";")[0].split(" ")[0].split("settings=")[1])):this.props.fetchSettings()}},{key:"makeQueryAndPage",value:function(e){return e.split("/")[1]?{query:ot.parse(e.split("/")[0]),page:+e.split("/")[1]}:{query:ot.parse(e),page:1}}},{key:"componentDidMount",value:function(){this.getSettings(),this.props.loadFavorites()}},{key:"render",value:function(){var e=this;return s.a.createElement(re.a,null,s.a.createElement(se.a,{exact:!0,path:"/",render:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(ye,null),s.a.createElement(we,{page:1}))}}),s.a.createElement(se.a,{path:"/sort_by",render:function(t){return s.a.createElement("div",{className:"App"},s.a.createElement(ye,{query:e.makeQueryAndPage(t.location.search).query}),s.a.createElement(Ae,{query:e.makeQueryAndPage(t.location.search).query,page:e.makeQueryAndPage(t.location.search).page}))}}),s.a.createElement(se.a,{path:"/search",render:function(t){return s.a.createElement("div",{className:"App"},s.a.createElement(ye,{query:e.makeQueryAndPage(t.location.search).query}),s.a.createElement(Te,{query:e.makeQueryAndPage(t.location.search).query,page:e.makeQueryAndPage(t.location.search).page}))}}),s.a.createElement(se.a,{path:"/filmId/:id/images",render:function(t){return s.a.createElement("div",{className:"App"},s.a.createElement(Ee,{id:+t.match.params.id}),s.a.createElement(et,{id:+t.match.params.id,query:e.makeQueryAndPage(t.location.search).query}))}}),s.a.createElement(se.a,{path:"/filmId/:id/(cast|crew)",render:function(e){return s.a.createElement("div",{className:"App"},s.a.createElement(Ee,{id:+e.match.params.id}),"cast"===e.match.params[0]&&s.a.createElement(rt,{id:+e.match.params.id}),"crew"===e.match.params[0]&&s.a.createElement(nt,{id:+e.match.params.id}))}}),s.a.createElement(se.a,{path:"/filmId/:id",render:function(t){return s.a.createElement("div",{className:"App"},s.a.createElement(be,null),s.a.createElement(Ke,{id:+t.match.params.id,query:e.makeQueryAndPage(t.location.search).query}))}}),s.a.createElement(se.a,{path:"/favorites",render:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(ke,null),s.a.createElement(ze,null))}}),s.a.createElement(se.a,{path:"/:page(\\d+)",render:function(e){return s.a.createElement("div",{className:"App"},s.a.createElement(ye,null),s.a.createElement(we,{page:+e.match.params.page}))}}),s.a.createElement(se.a,{render:function(e){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container container--error-page"},s.a.createElement("h1",{className:"App__error-header"},"ERROR! :("),s.a.createElement("div",{className:"App__error-text"},s.a.createElement("span",null,"Page not found."),s.a.createElement("a",{className:"App__error-link",href:"/"},"Home"))))}}))}}]),t}(r.Component),lt={fetchSettings:function(e){return function(t){if(!e)return m.a.get("https://api.themoviedb.org/3/configuration?api_key=".concat(z)).then(function(e){t(U(e.data));var a=new Date;a.setDate(a.getDate()+3),document.cookie="settings=".concat(JSON.stringify(e.data)," path=/; expires=").concat(a.toUTCString())}).catch(function(e){t(d("Error while loading settings from server."))});t(U(e))}},loadFavorites:Y},pt=Object(ie.a)(Object(o.b)(null,lt)(ct)),mt=function(e){function t(){return Object(X.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){return this.props.error.isError?s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container container--error-page"},s.a.createElement("h1",{className:"App__error-header"},"ERROR! :("),s.a.createElement("div",{className:"App__error-text"},s.a.createElement("span",null,this.props.error.errorText),s.a.createElement("a",{className:"App__error-link",href:"/"},"Home")))):this.props.children}}]),t}(r.Component),ht={errorClear:function(){return{type:u}}},ut=Object(o.b)(function(e){return{error:e.error}},ht)(mt),dt=a(92),vt=Object(c.createStore)($,Object(K.composeWithDevTools)(Object(c.applyMiddleware)(l.a)));n.a.render(s.a.createElement(o.a,{store:vt},s.a.createElement(ut,null,s.a.createElement(dt.a,{basename:"/Moviesearcher"},s.a.createElement(pt,null)))),document.getElementById("root"))}},[[38,2,1]]]);
//# sourceMappingURL=main.17f915f9.chunk.js.map